# ูุธุงู ุฅุฏุงุฑุฉ ุงููุฎุฒูู ุงูููุชุจู - Backend

ูุธุงู ููุชุจู ูุฅุฏุงุฑุฉ ุงููุฎุฒูู ูุงููุจูุนุงุช ุงูุฏุงุฎููุฉ ููุญู ูุญุชูู ุนูู:
- ุดุฑุงุฆุท ุญุฑูุฑูุฉ
- ุญุฏูุฏ
- ููุฑุงุช

## ๐ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

- **Backend**: Node.js + Express.js
- **ORM**: Prisma
- **Database**: SQLite (ูุญูู - ุจุฏูู ุฅูุชุฑูุช)
- **Validation**: express-validator

## ๐ ุงูุจููุฉ ุงููุนูุงุฑูุฉ

```
backend/
 โฃ modules/
 โ โฃ silk_strips/       # ุฅุฏุงุฑุฉ ุงูุดุฑุงุฆุท ุงูุญุฑูุฑูุฉ
 โ โฃ irons/             # ุฅุฏุงุฑุฉ ุงูุญุฏูุฏ
 โ โฃ wires/             # ุฅุฏุงุฑุฉ ุงูููุฑุงุช
 โ โฃ stock/             # ุญุฑูุฉ ุงููุฎุฒูู
 โ โฃ invoices/          # ุฅุฏุงุฑุฉ ุงูููุงุชูุฑ
 โ โ dashboard/         # ููุญุฉ ุงูุชุญูู ูุงูุฅุญุตุงุฆูุงุช
 โฃ shared/
 โ โฃ filters/           # ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
 โ โ utils/             # ุฏูุงู ูุณุงุนุฏุฉ
 โฃ config/              # ุฅุนุฏุงุฏุงุช ุงููุธุงู
 โฃ prisma/              # ูุงุนุฏุฉ ุงูุจูุงูุงุช
 โ index.js             # ููุทุฉ ุงูุจุฏุงูุฉ
```

## ๐ฆ ุงูุชุซุจูุช ูุงูุชุดุบูู

### 1. ุชุซุจูุช ุงูููุชุจุงุช

```powershell
npm install
```

### 2. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

```powershell
# ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุทุจูู ุงูู schema
npm run prisma:generate
npm run prisma:migrate
```

### 3. ุชุดุบูู ุงูุณูุฑูุฑ

```powershell
# ูุถุน ุงูุชุทููุฑ
npm run dev

# ูุถุน ุงูุฅูุชุงุฌ
npm start
```

ุงูุณูุฑูุฑ ุณูุนูู ุนูู: `http://localhost:3000`

## ๐ก API Endpoints

### ุงูุดุฑุงุฆุท ุงูุญุฑูุฑูุฉ (Silk Strips)
- `GET /api/silk-strips` - ุฌูุจ ุฌููุน ุงูุดุฑุงุฆุท
- `GET /api/silk-strips/:id` - ุฌูุจ ุดุฑูุท ูุญุฏุฏ
- `POST /api/silk-strips` - ุฅุถุงูุฉ ุดุฑูุท ุฌุฏูุฏ
- `PUT /api/silk-strips/:id` - ุชุญุฏูุซ ุดุฑูุท
- `DELETE /api/silk-strips/:id` - ุญุฐู ุดุฑูุท
- `POST /api/silk-strips/:id/add-stock` - ุฅุถุงูุฉ ูููุฉ ูุงุฑุฏุฉ

### ุงูุญุฏูุฏ (Irons)
- `GET /api/irons` - ุฌูุจ ุฌููุน ุงูุญุฏูุฏ
- `GET /api/irons/:id` - ุฌูุจ ุญุฏูุฏ ูุญุฏุฏ
- `POST /api/irons` - ุฅุถุงูุฉ ุญุฏูุฏ ุฌุฏูุฏ
- `PUT /api/irons/:id` - ุชุญุฏูุซ ุญุฏูุฏ
- `DELETE /api/irons/:id` - ุญุฐู ุญุฏูุฏ
- `POST /api/irons/:id/add-stock` - ุฅุถุงูุฉ ูููุฉ ูุงุฑุฏุฉ

### ุงูููุฑุงุช (Wires)
- `GET /api/wires` - ุฌูุจ ุฌููุน ุงูููุฑุงุช
- `GET /api/wires/:id` - ุฌูุจ ููุฑ ูุญุฏุฏ
- `POST /api/wires` - ุฅุถุงูุฉ ููุฑ ุฌุฏูุฏ
- `PUT /api/wires/:id` - ุชุญุฏูุซ ููุฑ
- `DELETE /api/wires/:id` - ุญุฐู ููุฑ
- `POST /api/wires/:id/add-stock` - ุฅุถุงูุฉ ูููุฉ ูุงุฑุฏุฉ

### ุญุฑูุฉ ุงููุฎุฒูู (Stock)
- `GET /api/stock/movements` - ุฌูุจ ุญุฑูุงุช ุงููุฎุฒูู (ูุน ููุงุชุฑ)
- `GET /api/stock/movements/:id` - ุฌูุจ ุญุฑูุฉ ูุญุฏุฏุฉ
- `GET /api/stock/movements/product/:type/:id` - ุญุฑูุงุช ููุชุฌ ูุญุฏุฏ
- `GET /api/stock/statistics` - ุฅุญุตุงุฆูุงุช ุงููุฎุฒูู

### ุงูููุงุชูุฑ (Invoices)
- `GET /api/invoices` - ุฌูุจ ุฌููุน ุงูููุงุชูุฑ
- `GET /api/invoices/:id` - ุฌูุจ ูุงุชูุฑุฉ ูุญุฏุฏุฉ
- `POST /api/invoices` - ุฅูุดุงุก ูุงุชูุฑุฉ ุฌุฏูุฏุฉ
- `DELETE /api/invoices/:id` - ุญุฐู ูุงุชูุฑุฉ
- `GET /api/invoices/statistics` - ุฅุญุตุงุฆูุงุช ุงูููุงุชูุฑ

### ููุญุฉ ุงูุชุญูู (Dashboard)
- `GET /api/dashboard` - ุฅุญุตุงุฆูุงุช ุดุงููุฉ
- `GET /api/dashboard/profits` - ุฃุฑุจุงุญ ุญุณุจ ุงููุชุฑุฉ
- `GET /api/dashboard/sales-by-type` - ูุจูุนุงุช ุญุณุจ ุงูููุน

## ๐ก ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ (ุญุฏูุฏ)

```json
POST /api/irons
{
  "ูุตู": "ุญุฏูุฏ 12 ููู",
  "ุณุนุฑ_ุงููุญุฏุฉ": 50.5,
  "ูุงุฑุฏ": 100
}
```

### ุฅุถุงูุฉ ูููุฉ ูุงุฑุฏุฉ

```json
POST /api/irons/1/add-stock
{
  "ุงููููุฉ": 50,
  "ุงูุณุนุฑ": 52.0
}
```

### ุฅูุดุงุก ูุงุชูุฑุฉ (ุจูุน)

```json
POST /api/invoices
{
  "ุชูุงุตูู": [
    {
      "ุงูููุน": "ุญุฏูุฏ",
      "ุงูููุชุฌ_id": 1,
      "ุงููููุฉ": 10,
      "ุณุนุฑ_ุงูุดุฑุงุก": 50.5,
      "ุณุนุฑ_ุงูุจูุน": 60.0
    },
    {
      "ุงูููุน": "ููุฑุงุช",
      "ุงูููุชุฌ_id": 2,
      "ุงููููุฉ": 5,
      "ุณุนุฑ_ุงูุดุฑุงุก": 30.0,
      "ุณุนุฑ_ุงูุจูุน": 40.0
    }
  ],
  "ููุงุญุธุงุช": "ูุงุชูุฑุฉ ุชุฌุฑูุจูุฉ"
}
```

## ๐ ุงูููุงุชุฑ ุงููุชุงุญุฉ

### ุญุฑูุฉ ุงููุฎุฒูู
```
GET /api/stock/movements?ุงูููุน=ุญุฏูุฏ&ููุน_ุงูุญุฑูุฉ=in&ูู_ุชุงุฑูุฎ=2025-01-01&ุฅูู_ุชุงุฑูุฎ=2025-12-31
```

### ุงูููุงุชูุฑ
```
GET /api/invoices?ูู_ุชุงุฑูุฎ=2025-01-01&ุฅูู_ุชุงุฑูุฎ=2025-12-31&limit=20
```

## ๐ ููุทู ุงููุธุงู

### ุนูุฏ ุดุฑุงุก ููุชุฌ (ูุงุฑุฏ)
1. ุฅุฏุฎุงู ุงูููุชุฌ ูุงููููุฉ ูุงูุณุนุฑ
2. ุชุญุฏูุซ ุฌุฏูู ุงูููุชุฌ (ุฒูุงุฏุฉ ุงููุงุฑุฏ)
3. ุฅูุดุงุก ุณุฌู ูู ุญุฑูุฉ ุงููุฎุฒูู (type = "in")
4. ุชุญุฏูุซ ุงูุฑุตูุฏ ุชููุงุฆูุงู

### ุนูุฏ ุจูุน ููุชุฌ (ุตุงุฏุฑ)
1. ุฅุฏุฎุงู ุงููููุฉ ูุณุนุฑ ุงูุจูุน ูู ุงููุงุชูุฑุฉ
2. ุญุณุงุจ ุงูุฑุจุญ = (ุณุนุฑ ุงูุจูุน - ุณุนุฑ ุงูุดุฑุงุก) ร ุงููููุฉ
3. ุฅูุดุงุก ูุงุชูุฑุฉ + ุชูุงุตูููุง
4. ุชุญุฏูุซ ุงููุฎุฒูู (ุชูููู ุงููููุฉ)
5. ุฅูุดุงุก ุญุฑูุฉ ูุฎุฒูู (type = "out")

## ๐๏ธ Scripts ุงููุชุงุญุฉ

```powershell
npm start              # ุชุดุบูู ุงูุณูุฑูุฑ
npm run dev            # ุชุดุบูู ูู ูุถุน ุงูุชุทููุฑ
npm run prisma:generate # ุฅูุดุงุก Prisma Client
npm run prisma:migrate  # ุชุทุจูู migrations
npm run prisma:studio   # ูุชุญ ูุงุฌูุฉ Prisma Studio
```

## ๐ ููุงุญุธุงุช ูููุฉ

- ุงููุธุงู ูุนูู ูุญููุงู ุจุฏูู ุฅูุชุฑูุช
- ูุง ููุฌุฏ ุชุณุฌูู ุฏุฎูู ุฃู ุตูุงุญูุงุช
- ุงูุฃุณุนุงุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุณุนุฑ ุงูุดุฑุงุก
- ุณุนุฑ ุงูุจูุน ููุฏุฎู ูุฏููุงู ุนูุฏ ุฅูุดุงุก ุงููุงุชูุฑุฉ
- ุงูุฑุตูุฏ ููุญุฏุซ ุชููุงุฆูุงู ูุน ูู ุนูููุฉ
- ุชูุจูู ุนูุฏ ุงูุฎูุงุถ ุงููุฎุฒูู (ุฃูู ูู 10)

## ๐ง ุงูุฅุนุฏุงุฏุงุช (.env)

```env
PORT=3000
DATABASE_URL="file:./prisma/dev.db"
NODE_ENV=development
```

## ๐ ุงูุฏุนู

ููุฃุณุฆูุฉ ูุงููุณุงุนุฏุฉุ ูุฑุฌู ูุชุญ issue ูู ุงููุดุฑูุน.

---

Made with โค๏ธ for Fares Inventory System
